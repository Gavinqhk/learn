(window["webpackJsonpdocs"]=window["webpackJsonpdocs"]||[]).push([["chunk-023a6afc"],{"1e75":function(e,t,a){},"3f10":function(e,t,a){"use strict";a("1e75")},"6e86":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("table-search",{attrs:{fields:e.fields},on:{submit:e.handleSearch}},[a("a-button",{staticStyle:{float:"right","margin-right":"24px","margin-top":"6px"},on:{click:e.toEditor}},[e._v(" 添加页面 ")])],1),a("a-table",{attrs:{size:"default",rowKey:function(e,t){return t},columns:e.columns,dataSource:e.tableData,loading:e.loading,pagination:e.pagination},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,n){return[a("a-button",{attrs:{type:"link"},on:{click:function(t){return e.modifyRecoder(n)}}},[e._v(" 编辑 ")]),a("a-button",{staticClass:"danger",attrs:{type:"link"},on:{click:function(t){return e.deleteRecoder(n)}}},[e._v(" 删除 ")])]}},{key:"pstatus",fn:function(t){return[0==t?a("span",{staticClass:"is-end"},[e._v("未发布")]):1==t?a("span",{staticClass:"is-info"},[e._v("已发布")]):a("span",{staticClass:"is-no"},[e._v("已更新")])]}}])}),a("a-drawer",{staticClass:"drawer-wrapper",attrs:{title:e.drawerTitle,width:"40%",visible:e.drawerVisible},on:{close:e.onClose}},[a("a-form",{staticClass:"form"},[a("a-form-item",{attrs:{label:"页面名称","validate-status":e.$seoValidate.pageName?"error":"",help:e.$seoValidate.pageName}},[a("a-input",{attrs:{maxLength:"en"===e.lang?20:10,placeholder:"必填，请输入页面名称"},on:{change:function(t){return e.initSeoValidate("pageName")}},model:{value:e.seoInfo.pageName,callback:function(t){e.$set(e.seoInfo,"pageName",t)},expression:"seoInfo.pageName"}}),a("InputLmitTip",{attrs:{limit:"en"===e.lang?20:10,text:e.seoInfo.pageName}})],1),a("a-form-item",{attrs:{label:"页面链接","validate-status":e.$seoValidate.pageUrl?"error":"",help:e.$seoValidate.pageUrl}},[a("a-input",{attrs:{placeholder:"必填，请输入页面链接（http|https://开头）"},on:{change:function(t){return e.initSeoValidate("pageUrl")}},model:{value:e.seoInfo.pageUrl,callback:function(t){e.$set(e.seoInfo,"pageUrl",t)},expression:"seoInfo.pageUrl"}})],1),a("a-form-item",{attrs:{label:"标题","validate-status":e.$seoValidate.title?"error":"",help:e.$seoValidate.title}},[a("a-input",{attrs:{maxLength:"en"===e.lang?80:40,placeholder:"必填，请输入标题"},on:{change:function(t){return e.initSeoValidate("title")}},model:{value:e.seoInfo.title,callback:function(t){e.$set(e.seoInfo,"title",t)},expression:"seoInfo.title"}}),a("InputLmitTip",{attrs:{limit:"en"===e.lang?80:40,text:e.seoInfo.title}})],1),a("a-form-item",{attrs:{label:"关键词","validate-status":e.$seoValidate.keyWords?"error":"",help:e.$seoValidate.keyWords}},[a("a-textarea",{attrs:{maxLength:"en"===e.lang?80:40,placeholder:"必填，请输入关键词"},on:{change:function(t){return e.initSeoValidate("keyWords")}},model:{value:e.seoInfo.keyWords,callback:function(t){e.$set(e.seoInfo,"keyWords",t)},expression:"seoInfo.keyWords"}}),a("InputLmitTip",{attrs:{limit:"en"===e.lang?80:40,text:e.seoInfo.keyWords}})],1),a("a-form-item",{attrs:{label:"描述","validate-status":e.$seoValidate.description?"error":"",help:e.$seoValidate.description}},[a("a-textarea",{attrs:{maxLength:"en"===e.lang?150:75,placeholder:"必填，请输入描述"},on:{change:function(t){return e.initSeoValidate("description")}},model:{value:e.seoInfo.description,callback:function(t){e.$set(e.seoInfo,"description",t)},expression:"seoInfo.description"}}),a("InputLmitTip",{attrs:{limit:"en"===e.lang?150:75,text:e.seoInfo.description}})],1)],1),a("div",{staticClass:"draw-bottom"},[a("a-button",{on:{click:e.onClose}},[e._v(" 取消 ")]),a("a-button",{attrs:{type:"primary",loading:e.saveLoading},on:{click:e.onSubmit}},[e._v(" 确认 ")])],1)],1)],1)},i=[],o=a("5530"),r=(a("8a79"),a("a4d3"),a("e01a"),a("d3b7"),a("159b"),a("b64b"),a("c32d")),l=a.n(r),s=a("1d61"),c=a("750b"),d=a("b775");function p(e){return Object(d["a"])({url:"official/iportal/seo/optimization/get",params:e,method:"GET"})}function u(e){return Object(d["a"])({url:"official/iportal/seo/optimization/save",data:e,method:"POST"})}function f(e){return Object(d["a"])({url:"official/iportal/seo/optimization/"+e,method:"DELETE"})}a("2ca0");var g=function(e){var t=Object(c["e"])({pageName:!1,pageUrl:!1,title:!1,keyWords:!1,description:!1}),a=Object(c["e"])({pageName:Object(c["a"])({get:function(){return t.pageName?e.pageName?"":"页面名称不能为空":""}}),pageUrl:Object(c["a"])({get:function(){return t.pageUrl?e.pageUrl?e.pageUrl.startsWith("http://")||e.pageUrl.startsWith("https://")?"":"页面链接要以http或者https开头":"页面链接不能为空":""}}),title:Object(c["a"])({get:function(){return t.title?e.title?"":"标题不能为空":""}}),keyWords:Object(c["a"])({get:function(){return t.keyWords?e.keyWords?"":"关键字不能为空":""}}),description:Object(c["a"])({get:function(){return t.description?e.description?"":"描述不能为空":""}})});function n(e){t[e]=!0}function i(e){t[e]=!1}return{$seoValidate:a,initSeoValidate:n,resetSeoValidate:i}},m=a("4e72"),h=a("80d4"),b=[{title:"页面名称",dataIndex:"pageName",width:"110px"},{title:"页面链接",dataIndex:"pageUrl",width:"120px"},{title:"标题",dataIndex:"title",maxWidth:"150px"},{title:"关键字",dataIndex:"keyWords",maxWidth:"200px"},{title:"描述",dataIndex:"description",maxWidth:"200px"},{title:"创建日期",dataIndex:"createTime",customRender:function(e){return l()(e).format("YYYY-MM-DD HH:mm:ss")},width:"110px"},{title:"创建者",dataIndex:"operator",width:"100px"},{title:"操作",dataIndex:"action",align:"center",width:"100px",scopedSlots:{customRender:"action"}}],k={components:{TableSearch:s["l"],InputLmitTip:h["a"]},name:"tips-list",setup:function(e,t){var a=t.root,n=Object(c["e"])({lang:"zh",fields:[{label:"查询条件",type:"input",field:"keyWords",value:"",placeholder:"请输入搜索关键字"}],tableData:[],columns:b,loading:!0,pagination:{total:0,current:1,pageSize:20,pageSizeOptions:["5","10","20","50","100"],showQuickJumper:!1,showSizeChanger:!0},drawerVisible:!1,saveLoading:!1,drawerTitle:"添加页面"}),i=Object(c["e"])({id:"",pageName:"",pageUrl:"",title:"",keyWords:"",description:""}),r=g(i),l=r.$seoValidate,s=r.initSeoValidate,d=r.resetSeoValidate;function h(){s("pageName"),s("pageUrl"),s("title"),s("keyWords"),s("description")}function k(){d("pageName"),d("pageUrl"),d("title"),d("keyWords"),d("description"),i.id="",i.pageName="",i.pageUrl="",i.title="",i.keyWords="",i.description=""}function v(){var e=!1;return h(),Object.keys(l).forEach((function(t){l[t]&&(e=!0)})),!e}function x(){var e={};return e.currentPage=n.pagination.current,e.pageSize=n.pagination.pageSize,e.keyWords=n.fields[0].value,e.languageType="zh"===n.lang?"CHINESE":"ENGLISH",e}function I(){var e=x();n.loading=!0,p(e).then((function(e){e.list&&(n.tableData=e.list,n.pagination.total=e.total)})).finally((function(){n.loading=!1}))}function y(){n.pagination.current=1,I()}function w(e){n.pagination=e,I()}function S(e){n.drawerVisible=!0,n.drawerTitle="编辑页面",i.id=e.id,i.pageName=e.pageName,i.pageUrl=e.pageUrl,i.title=e.title,i.keyWords=e.keyWords,i.description=e.description}function V(){n.drawerVisible=!0,n.drawerTitle="添加页面"}function W(){if(v()){n.saveLoading=!0;var e=O();u(e).then((function(e){m["message"].success("保存成功"),n.drawerVisible=!1,y(),k()})).finally((function(){n.saveLoading=!1}))}}function O(){var e=Object(o["a"])({},i);return e.id||delete e.id,e.languageType="zh"===n.lang?"CHINESE":"ENGLISH",e}function N(){k(),n.drawerVisible=!1}function j(e){m["Modal"].confirm({title:"确认要删除这条信息吗？",content:"您确认要删除这条信息吗，删除后不可恢复",onOk:function(){return f(e.id).then((function(){m["message"].success("删除成功"),I()}))}})}return Object(c["h"])((function(){return a.$route.path}),(function(e){n.lang=e.endsWith("/zh")?"zh":"en",n.pagination.current=1,I()})),Object(c["d"])((function(){I()})),Object(o["a"])(Object(o["a"])({},Object(c["g"])(n)),{},{handleSearch:y,handleTableChange:w,modifyRecoder:S,deleteRecoder:j,toEditor:V,onClose:N,onSubmit:W,seoInfo:i,$seoValidate:l,initSeoValidate:s})}},v=k,x=(a("3f10"),a("2877")),I=Object(x["a"])(v,n,i,!1,null,"712b8c0c",null);t["default"]=I.exports}}]);
//# sourceMappingURL=chunk-023a6afc.39c3f6a4.js.map