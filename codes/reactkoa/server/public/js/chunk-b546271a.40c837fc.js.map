{"version":3,"sources":["webpack://docs/./node_modules/core-js/internals/engine-ff-version.js","webpack://docs/./src/views/caseManagement/Editor.vue?82bc","webpack://docs/./node_modules/core-js/modules/es.array.sort.js","webpack://docs/./node_modules/core-js/internals/engine-webkit-version.js","webpack://docs/./node_modules/core-js/internals/array-sort.js","webpack://docs/./src/views/caseManagement/Editor.vue?b879","webpack://docs/./src/views/caseManagement/service.js","webpack://docs/src/views/caseManagement/Editor.vue","webpack://docs/./src/views/caseManagement/Editor.vue?45d2","webpack://docs/./src/views/caseManagement/Editor.vue","webpack://docs/./node_modules/core-js/internals/engine-is-ie-or-edge.js","webpack://docs/./src/views/caseManagement/api.js"],"names":["userAgent","firefox","match","module","exports","$","uncurryThis","aCallable","toObject","lengthOfArrayLike","toString","fails","internalSort","arrayMethodIsStrict","FF","IE_OR_EDGE","V8","WEBKIT","test","un$Sort","sort","push","FAILS_ON_UNDEFINED","undefined","FAILS_ON_NULL","STRICT_METHOD","STABLE_SORT","code","chr","value","index","result","String","fromCharCode","k","v","a","b","length","charAt","FORCED","getSortCompare","comparefn","x","y","target","proto","forced","array","this","itemsLength","items","arrayLength","webkit","arraySlice","floor","Math","mergeSort","middle","insertionSort","merge","element","j","i","left","right","llength","rlength","lindex","rindex","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","crumbs","slot","staticStyle","on","$event","$router","lang","_v","handleDelete","_e","handlePutIt","previewLoading","handlePreview","saveLoading","handleSave","stepsData","current","onStepsChange","_l","item","key","directives","name","rawName","steps","content","expression","span","$validate","initValidate","model","viewInfo","callback","$$v","$set","c","_s","summary","clientName","logoUrl","handleLogoUploadChange","picUrl","handleUploadChange","publicTime","$seoValidate","initSeoValidate","seoInfo","keyword","description","next","prev","staticRenderFns","editFormValidate","$validateInital","reactive","computed","get","seoFormValidate","SourceMenu","editor","$elem","WangEditor","toggleActive","toggleHtmlCode","console","log","isActive","unActive","active","editorHtml","txt","html","replace","BtnMenu","createEditor","id","token","getToken","config","menuFixed","uploadImgServer","process","uploadImgAccept","uploadImgFileName","menus","extend","uploadImgHeaders","Accept","Authorization","uploadFileName","uploadImgHooks","customInsert","insertImgFn","url","create","components","setup","isEdit","isSaved","root","$route","params","sortList","originInfo","uploadLoading","uploadLogoLoading","uploadHeaders","transfedPostJson","languageType","data","seoTitle","seoKeyWords","seoDescription","format","postJson","Number","checkFormError","Object","keys","forEach","validatedError","checkSeoFormError","diffOriginInfo","info","onOk","publicStatus","go","res","destroy","component","UA","getCaseList","request","method","updateCaseStatus","previewCaseInfo","saveCaseInfo","topCaseStatus","getCaseInfo","deleteCaseInfo"],"mappings":"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","file":"js/chunk-b546271a.40c837fc.js","sourcesContent":["var userAgent = require('../internals/engine-user-agent');\n\nvar firefox = userAgent.match(/firefox\\/(\\d+)/i);\n\nmodule.exports = !!firefox && +firefox[1];\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&id=d510e680&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar internalSort = require('../internals/array-sort');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar FF = require('../internals/engine-ff-version');\nvar IE_OR_EDGE = require('../internals/engine-is-ie-or-edge');\nvar V8 = require('../internals/engine-v8-version');\nvar WEBKIT = require('../internals/engine-webkit-version');\n\nvar test = [];\nvar un$Sort = uncurryThis(test.sort);\nvar push = uncurryThis(test.push);\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar STABLE_SORT = !fails(function () {\n  // feature detection can be too slow, so check engines versions\n  if (V8) return V8 < 70;\n  if (FF && FF > 3) return;\n  if (IE_OR_EDGE) return true;\n  if (WEBKIT) return WEBKIT < 603;\n\n  var result = '';\n  var code, chr, value, index;\n\n  // generate an array with more 512 elements (Chakra and old V8 fails only in this case)\n  for (code = 65; code < 76; code++) {\n    chr = String.fromCharCode(code);\n\n    switch (code) {\n      case 66: case 69: case 70: case 72: value = 3; break;\n      case 68: case 71: value = 4; break;\n      default: value = 2;\n    }\n\n    for (index = 0; index < 47; index++) {\n      test.push({ k: chr + index, v: value });\n    }\n  }\n\n  test.sort(function (a, b) { return b.v - a.v; });\n\n  for (index = 0; index < test.length; index++) {\n    chr = test[index].k.charAt(0);\n    if (result.charAt(result.length - 1) !== chr) result += chr;\n  }\n\n  return result !== 'DGBEFHACIJK';\n});\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT;\n\nvar getSortCompare = function (comparefn) {\n  return function (x, y) {\n    if (y === undefined) return -1;\n    if (x === undefined) return 1;\n    if (comparefn !== undefined) return +comparefn(x, y) || 0;\n    return toString(x) > toString(y) ? 1 : -1;\n  };\n};\n\n// `Array.prototype.sort` method\n// https://tc39.es/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    if (comparefn !== undefined) aCallable(comparefn);\n\n    var array = toObject(this);\n\n    if (STABLE_SORT) return comparefn === undefined ? un$Sort(array) : un$Sort(array, comparefn);\n\n    var items = [];\n    var arrayLength = lengthOfArrayLike(array);\n    var itemsLength, index;\n\n    for (index = 0; index < arrayLength; index++) {\n      if (index in array) push(items, array[index]);\n    }\n\n    internalSort(items, getSortCompare(comparefn));\n\n    itemsLength = items.length;\n    index = 0;\n\n    while (index < itemsLength) array[index] = items[index++];\n    while (index < arrayLength) delete array[index++];\n\n    return array;\n  }\n});\n","var userAgent = require('../internals/engine-user-agent');\n\nvar webkit = userAgent.match(/AppleWebKit\\/(\\d+)\\./);\n\nmodule.exports = !!webkit && +webkit[1];\n","var arraySlice = require('../internals/array-slice-simple');\n\nvar floor = Math.floor;\n\nvar mergeSort = function (array, comparefn) {\n  var length = array.length;\n  var middle = floor(length / 2);\n  return length < 8 ? insertionSort(array, comparefn) : merge(\n    array,\n    mergeSort(arraySlice(array, 0, middle), comparefn),\n    mergeSort(arraySlice(array, middle), comparefn),\n    comparefn\n  );\n};\n\nvar insertionSort = function (array, comparefn) {\n  var length = array.length;\n  var i = 1;\n  var element, j;\n\n  while (i < length) {\n    j = i;\n    element = array[i];\n    while (j && comparefn(array[j - 1], element) > 0) {\n      array[j] = array[--j];\n    }\n    if (j !== i++) array[j] = element;\n  } return array;\n};\n\nvar merge = function (array, left, right, comparefn) {\n  var llength = left.length;\n  var rlength = right.length;\n  var lindex = 0;\n  var rindex = 0;\n\n  while (lindex < llength || rindex < rlength) {\n    array[lindex + rindex] = (lindex < llength && rindex < rlength)\n      ? comparefn(left[lindex], right[rindex]) <= 0 ? left[lindex++] : right[rindex++]\n      : lindex < llength ? left[lindex++] : right[rindex++];\n  } return array;\n};\n\nmodule.exports = mergeSort;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout-base\"},[_c('layout-base',{attrs:{\"title\":_vm.title,\"crumbs\":_vm.crumbs}},[_c('div',[_c('a-card',{attrs:{\"bordered\":false}},[_c('div',{staticClass:\"form-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('a-button',{staticStyle:{\"float\":\"left\"},on:{\"click\":function($event){return _vm.$router.push((\"/docs/case/list/\" + _vm.lang))}}},[_vm._v(\" 返回 \")]),(_vm.isEdit)?_c('a-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"danger\"},on:{\"click\":_vm.handleDelete}},[_vm._v(\" 删除 \")]):_vm._e(),_c('a-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handlePutIt}},[_vm._v(\" 发布 \")]),_c('a-button',{staticStyle:{\"float\":\"right\"},attrs:{\"ghost\":\"\",\"type\":\"primary\",\"loading\":_vm.previewLoading},on:{\"click\":_vm.handlePreview}},[_vm._v(\" 预览 \")]),_c('a-button',{staticStyle:{\"float\":\"right\"},attrs:{\"loading\":_vm.saveLoading},on:{\"click\":_vm.handleSave}},[_vm._v(\" 保存 \")])],1),_c('div',{staticClass:\"steps-wrapper\"},[_c('a-steps',{attrs:{\"current\":_vm.stepsData.current},on:{\"change\":_vm.onStepsChange}},_vm._l((_vm.stepsData.steps),function(item){return _c('a-step',{key:item.title,attrs:{\"title\":item.title}})}),1)],1),_c('div',{staticClass:\"steps-content\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.stepsData.steps[_vm.stepsData.current].content === 'edit-content'),expression:\"stepsData.steps[stepsData.current].content === 'edit-content'\"}],staticClass:\"content-box edit-content\"},[_c('a-form',{staticClass:\"form\",attrs:{\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 15 }}},[_c('a-form-item',{attrs:{\"label\":\"案例标题\",\"validate-status\":_vm.$validate.title ? 'error' : '',\"help\":_vm.$validate.title}},[_c('a-input',{attrs:{\"placeholder\":\"必填，请输入案例标题\"},on:{\"change\":function($event){return _vm.initValidate('title')}},model:{value:(_vm.viewInfo.title),callback:function ($$v) {_vm.$set(_vm.viewInfo, \"title\", $$v)},expression:\"viewInfo.title\"}})],1),_c('a-form-item',{attrs:{\"label\":\"案例分类\",\"validate-status\":_vm.$validate.sort ? 'error' : '',\"help\":_vm.$validate.sort}},[_c('a-select',{staticStyle:{\"width\":\"158px\"},attrs:{\"placeholder\":\"请选择\"},on:{\"change\":function($event){return _vm.initValidate('sort')}},model:{value:(_vm.viewInfo.sort),callback:function ($$v) {_vm.$set(_vm.viewInfo, \"sort\", $$v)},expression:\"viewInfo.sort\"}},_vm._l((_vm.sortList),function(c){return _c('a-select-option',{key:c.key},[_vm._v(\" \"+_vm._s(c.title)+\" \")])}),1)],1),_c('a-form-item',{attrs:{\"label\":\"摘要\",\"validate-status\":_vm.$validate.summary ? 'error' : '',\"help\":_vm.$validate.summary}},[_c('a-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"必填，请输入案例摘要\"},on:{\"change\":function($event){return _vm.initValidate('summary')}},model:{value:(_vm.viewInfo.summary),callback:function ($$v) {_vm.$set(_vm.viewInfo, \"summary\", $$v)},expression:\"viewInfo.summary\"}})],1),_c('a-form-item',{attrs:{\"label\":\"客户名称\",\"validate-status\":_vm.$validate.clientName ? 'error' : '',\"help\":_vm.$validate.clientName}},[_c('a-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"必填，请输入客户名称\"},on:{\"change\":function($event){return _vm.initValidate('clientName')}},model:{value:(_vm.viewInfo.clientName),callback:function ($$v) {_vm.$set(_vm.viewInfo, \"clientName\", $$v)},expression:\"viewInfo.clientName\"}})],1),_c('a-form-item',{attrs:{\"label\":\"客户logo\",\"validate-status\":_vm.$validate.logoUrl ? 'error' : '',\"help\":_vm.$validate.logoUrl}},[_c('ImgUpload',{staticClass:\"set-style\",staticStyle:{\"height\":\"88px\",\"width\":\"88px\"},attrs:{\"default-url\":_vm.viewInfo.logoUrl,\"tip\":\"\"},on:{\"change\":_vm.handleLogoUploadChange}})],1),_c('a-form-item',{attrs:{\"label\":\"封面图片\",\"validate-status\":_vm.$validate.picUrl ? 'error' : '',\"help\":_vm.$validate.picUrl}},[_c('ImgUpload',{staticClass:\"set-style\",staticStyle:{\"height\":\"200px\",\"width\":\"364px\"},attrs:{\"default-url\":_vm.viewInfo.picUrl,\"tip\":\"图片尺寸：728*400，支持png、jpg、gif\"},on:{\"change\":_vm.handleUploadChange}})],1),_c('a-form-item',{attrs:{\"label\":\"发布时间\",\"validate-status\":_vm.$validate.publicTime ? 'error' : '',\"help\":_vm.$validate.publicTime}},[_c('a-date-picker',{model:{value:(_vm.viewInfo.publicTime),callback:function ($$v) {_vm.$set(_vm.viewInfo, \"publicTime\", $$v)},expression:\"viewInfo.publicTime\"}})],1),_c('a-form-item',{staticStyle:{\"z-index\":\"1\"},attrs:{\"label\":\"内容\"}},[_c('div',{attrs:{\"id\":\"tipsEditor\"}})])],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.stepsData.steps[_vm.stepsData.current].content === 'seo-content'),expression:\"stepsData.steps[stepsData.current].content === 'seo-content'\"}],staticClass:\"content-box seo-content\"},[_c('a-form',{staticClass:\"form\",attrs:{\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 15 }}},[_c('a-form-item',{attrs:{\"label\":\"标题\",\"validate-status\":_vm.$seoValidate.title ? 'error' : '',\"help\":_vm.$seoValidate.title}},[_c('a-input',{attrs:{\"maxLength\":_vm.lang==='en' ? 80 : 40,\"placeholder\":\"必填，用于搜索引擎优化\"},on:{\"change\":function($event){return _vm.initSeoValidate('title')}},model:{value:(_vm.seoInfo.title),callback:function ($$v) {_vm.$set(_vm.seoInfo, \"title\", $$v)},expression:\"seoInfo.title\"}}),_c('inputLmitTip',{attrs:{\"limit\":_vm.lang==='en' ? 80 : 40,\"text\":_vm.seoInfo.title}})],1),_c('a-form-item',{attrs:{\"label\":\"关键字\",\"validate-status\":_vm.$seoValidate.keyword ? 'error' : '',\"help\":_vm.$seoValidate.keyword}},[_c('a-input',{attrs:{\"maxLength\":_vm.lang==='en' ? 80 : 40,\"placeholder\":\"必填，用于搜索引擎优化\"},on:{\"change\":function($event){return _vm.initSeoValidate('keyword')}},model:{value:(_vm.seoInfo.keyword),callback:function ($$v) {_vm.$set(_vm.seoInfo, \"keyword\", $$v)},expression:\"seoInfo.keyword\"}}),_c('inputLmitTip',{attrs:{\"limit\":_vm.lang==='en' ? 80 : 40,\"text\":_vm.seoInfo.keyword}})],1),_c('a-form-item',{attrs:{\"label\":\"描述\",\"validate-status\":_vm.$seoValidate.description ? 'error' : '',\"help\":_vm.$seoValidate.description}},[_c('a-input',{attrs:{\"maxLength\":_vm.lang==='en' ? 150 : 75,\"placeholder\":\"必填，用于搜索引擎优化\"},on:{\"change\":function($event){return _vm.initSeoValidate('description')}},model:{value:(_vm.seoInfo.description),callback:function ($$v) {_vm.$set(_vm.seoInfo, \"description\", $$v)},expression:\"seoInfo.description\"}}),_c('inputLmitTip',{attrs:{\"limit\":_vm.lang==='en' ? 150 : 75,\"text\":_vm.seoInfo.description}})],1)],1)],1)]),_c('a-row',{staticClass:\"steps-action\"},[_c('a-col',{attrs:{\"offset\":5}},[_c('a-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.stepsData.current < _vm.stepsData.steps.length - 1),expression:\"stepsData.current < stepsData.steps.length - 1\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\" 下一步 \")]),_c('a-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.stepsData.current > 0),expression:\"stepsData.current > 0\"}],on:{\"click\":_vm.prev}},[_vm._v(\" 上一步 \")]),_c('a-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.stepsData.current === _vm.stepsData.steps.length - 1),expression:\"stepsData.current === stepsData.steps.length - 1\"}],staticStyle:{\"margin-left\":\"12px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handlePutIt}},[_vm._v(\" 发布 \")])],1)],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { getToken } from '@/utils/auth';\nimport { reactive, computed } from '@vue/composition-api';\nimport WangEditor from 'wangeditor';\n\nexport const editFormValidate = viewInfo => {\n  const $validateInital = reactive({\n    title: false,\n    sort: false,\n    summary: false,\n    clientName: false,\n    logoUrl: false,\n    picUrl: false,\n    publicTime: false,\n  });\n\n  const $validate = reactive({\n    title: computed({\n      get: () => {\n        if (!$validateInital.title) return '';\n        return viewInfo.title ? '' : '案例标题不能为空';\n      },\n    }),\n    sort: computed({\n      get: () => {\n        if (!$validateInital.sort) return '';\n        return viewInfo.sort || viewInfo.sort === 0 ? '' : '案例分类不能为空';\n      },\n    }),\n    summary: computed({\n      get: () => {\n        if (!$validateInital.summary) return '';\n        return viewInfo.summary ? '' : '案例摘要不能为空';\n      },\n    }),\n    clientName: computed({\n      get: () => {\n        if (!$validateInital.clientName) return '';\n        return viewInfo.clientName ? '' : '客户名称不能为空';\n      },\n    }),\n    logoUrl: computed({\n      get: () => {\n        if (!$validateInital.logoUrl) return '';\n        return viewInfo.logoUrl ? '' : '客户logo不能为空';\n      },\n    }),\n    picUrl: computed({\n      get: () => {\n        if (!$validateInital.picUrl) return '';\n        return viewInfo.picUrl ? '' : '封面图片不能为空';\n      },\n    }),\n    publicTime: computed({\n      get: () => {\n        if (!$validateInital.publicTime) return '';\n        return viewInfo.publicTime ? '' : '发布时间不能为空';\n      },\n    }),\n  });\n\n  function initValidate(key) {\n    $validateInital[key] = true;\n  }\n\n  return {\n    $validate,\n    initValidate,\n  };\n};\nexport const seoFormValidate = seoInfo => {\n  const $validateInital = reactive({\n    title: false,\n    keyword: false,\n    description: false,\n  });\n\n  const $seoValidate = reactive({\n    title: computed({\n      get: () => {\n        if (!$validateInital.title) return '';\n        return seoInfo.title ? '' : '标题不能为空';\n      },\n    }),\n    keyword: computed({\n      get: () => {\n        if (!$validateInital.keyword) return '';\n        return seoInfo.keyword ? '' : '关键字不能为空';\n      },\n    }),\n    description: computed({\n      get: () => {\n        if (!$validateInital.description) return '';\n        return seoInfo.description ? '' : '描述不能为空';\n      },\n    }),\n  });\n\n  function initSeoValidate(key) {\n    $validateInital[key] = true;\n  }\n\n  return {\n    $seoValidate,\n    initSeoValidate,\n  };\n};\n\nclass SourceMenu extends WangEditor.BtnMenu {\n  constructor(editor) {\n    const $elem = WangEditor.$(\n      `<div class=\"w-e-menu\">\n        <span title=\"编辑源码\">源码</span>\n      </div>`,\n    );\n    super($elem, editor);\n  }\n\n  clickHandler() {\n    this.toggleActive();\n    this.toggleHtmlCode();\n  }\n\n  toggleActive() {\n    console.log(this.editor);\n    this.isActive ? this.unActive() : this.active();\n  }\n\n  toggleHtmlCode() {\n    let editorHtml = this.editor.txt.html();\n    if (this.isActive) {\n      editorHtml = editorHtml.replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/ /g, '&nbsp;');\n    } else {\n      editorHtml = editorHtml\n        .replace(/&lt;/gi, '<')\n        .replace(/&gt;/gi, '>')\n        .replace(/&nbsp;/gi, ' ');\n    }\n    this.editor.txt.html(editorHtml);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  tryChangeActive() {\n    // console.log(this)\n  }\n}\n\nexport const createEditor = id => {\n  const editor = new WangEditor(id);\n  const token = getToken();\n\n  editor.config.menuFixed = false;\n  editor.config.uploadImgServer = process.env.VUE_APP_API_UPLOAD_URL + 'iportal-official/picture';\n  editor.config.uploadImgAccept = ['jpg', 'jpeg', 'png', 'gif', 'bmp'];\n  editor.config.uploadImgFileName = 'file';\n  editor.menus.extend('source', SourceMenu);\n\n  editor.config.uploadImgHeaders = {\n    Accept: 'application/json, text/plain, */*',\n    Authorization: 'sessionId=' + token,\n  };\n  editor.config.uploadFileName = 'file';\n  editor.config.menus = [\n    'source',\n    'head',\n    'bold',\n    'fontSize',\n    'fontName',\n    'italic',\n    'underline',\n    'strikeThrough',\n    'indent',\n    'lineHeight',\n    'foreColor',\n    'emoticon',\n    'backColor',\n    'link',\n    'list',\n    'justify',\n    'quote',\n    'image',\n    'table',\n    'code',\n    'splitLine',\n    'undo',\n  ];\n\n  editor.config.uploadImgHooks = {\n    customInsert(insertImgFn, result) {\n      // result 即服务端返回的接口\n      console.log('customInsert', result);\n\n      // insertImgFn 可把图片插入到编辑器，传入图片 src ，执行函数即可\n      insertImgFn(result.url);\n    },\n  };\n  console.log(editor.config);\n  editor.create();\n  return editor;\n};\n","<template>\n  <div class=\"layout-base\">\n    <layout-base :title=\"title\" :crumbs=\"crumbs\">\n      <div>\n        <a-card :bordered=\"false\">\n          <div slot=\"title\" class=\"form-title\">\n            <a-button style=\"float:left\" @click=\"$router.push(`/docs/case/list/${lang}`)\">\n              返回\n            </a-button>\n            <a-button type=\"danger\" style=\"float:right\" v-if=\"isEdit\" @click=\"handleDelete\">\n              删除\n            </a-button>\n            <a-button type=\"primary\" style=\"float:right\" @click=\"handlePutIt\">\n              发布\n            </a-button>\n            <a-button ghost type=\"primary\" style=\"float:right\" @click=\"handlePreview\"\n              :loading=\"previewLoading\">\n              预览\n            </a-button>\n            <a-button style=\"float:right\" @click=\"handleSave\" :loading=\"saveLoading\">\n              保存\n            </a-button>\n          </div>\n          <div class=\"steps-wrapper\">\n            <a-steps :current=\"stepsData.current\" @change=\"onStepsChange\">\n              <a-step v-for=\"item in stepsData.steps\" :key=\"item.title\" :title=\"item.title\" />\n            </a-steps>\n          </div>\n          <div class=\"steps-content\">\n            <div class=\"content-box edit-content\"\n              v-show=\"stepsData.steps[stepsData.current].content === 'edit-content'\">\n              <a-form :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 15 }\" class=\"form\">\n                <a-form-item label=\"案例标题\" :validate-status=\"$validate.title ? 'error' : ''\"\n                  :help=\"$validate.title\">\n                  <a-input v-model=\"viewInfo.title\" @change=\"initValidate('title')\"\n                    placeholder=\"必填，请输入案例标题\" />\n                </a-form-item>\n                <a-form-item label=\"案例分类\" :validate-status=\"$validate.sort ? 'error' : ''\"\n                  :help=\"$validate.sort\">\n                  <a-select v-model=\"viewInfo.sort\" placeholder=\"请选择\" style=\"width: 158px\"\n                    @change=\"initValidate('sort')\">\n                    <a-select-option v-for=\"c in sortList\" :key=\"c.key\">\n                      {{ c.title }}\n                    </a-select-option>\n                  </a-select>\n                </a-form-item>\n                <a-form-item label=\"摘要\" :validate-status=\"$validate.summary ? 'error' : ''\"\n                  :help=\"$validate.summary\">\n                  <a-input type=\"textarea\" v-model=\"viewInfo.summary\"\n                    @change=\"initValidate('summary')\" placeholder=\"必填，请输入案例摘要\" />\n                </a-form-item>\n                <a-form-item label=\"客户名称\" :validate-status=\"$validate.clientName ? 'error' : ''\"\n                  :help=\"$validate.clientName\">\n                  <a-input type=\"textarea\" v-model=\"viewInfo.clientName\"\n                    @change=\"initValidate('clientName')\" placeholder=\"必填，请输入客户名称\" />\n                </a-form-item>\n                <a-form-item label=\"客户logo\" :validate-status=\"$validate.logoUrl ? 'error' : ''\"\n                  :help=\"$validate.logoUrl\">\n                  <ImgUpload style=\"height: 88px;width: 88px\" class=\"set-style\"\n                    @change=\"handleLogoUploadChange\" :default-url=\"viewInfo.logoUrl\" tip=\"\">\n                  </ImgUpload>\n                </a-form-item>\n                <a-form-item label=\"封面图片\" :validate-status=\"$validate.picUrl ? 'error' : ''\"\n                  :help=\"$validate.picUrl\">\n                  <ImgUpload style=\"height: 200px;width: 364px\" class=\"set-style\"\n                    @change=\"handleUploadChange\" :default-url=\"viewInfo.picUrl\"\n                    tip=\"图片尺寸：728*400，支持png、jpg、gif\">\n                  </ImgUpload>\n                </a-form-item>\n                <a-form-item label=\"发布时间\" :validate-status=\"$validate.publicTime ? 'error' : ''\"\n                  :help=\"$validate.publicTime\">\n                  <a-date-picker v-model=\"viewInfo.publicTime\" />\n                </a-form-item>\n                <a-form-item label=\"内容\" style=\"z-index:1\">\n                  <div id=\"tipsEditor\"></div>\n                </a-form-item>\n              </a-form>\n            </div>\n            <div class=\"content-box seo-content\"\n              v-show=\"stepsData.steps[stepsData.current].content === 'seo-content'\">\n              <a-form :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 15 }\" class=\"form\">\n                <a-form-item label=\"标题\" :validate-status=\"$seoValidate.title ? 'error' : ''\"\n                  :help=\"$seoValidate.title\">\n                  <a-input v-model=\"seoInfo.title\" :maxLength=\"lang==='en' ? 80 : 40\"\n                    @change=\"initSeoValidate('title')\" placeholder=\"必填，用于搜索引擎优化\" />\n                  <inputLmitTip :limit=\"lang==='en' ? 80 : 40\" :text=\"seoInfo.title\">\n                  </inputLmitTip>\n                </a-form-item>\n                <a-form-item label=\"关键字\" :validate-status=\"$seoValidate.keyword ? 'error' : ''\"\n                  :help=\"$seoValidate.keyword\">\n                  <a-input v-model=\"seoInfo.keyword\" :maxLength=\"lang==='en' ? 80 : 40\"\n                    @change=\"initSeoValidate('keyword')\" placeholder=\"必填，用于搜索引擎优化\" />\n                  <inputLmitTip :limit=\"lang==='en' ? 80 : 40\" :text=\"seoInfo.keyword\">\n                  </inputLmitTip>\n                </a-form-item>\n                <a-form-item label=\"描述\" :validate-status=\"$seoValidate.description ? 'error' : ''\"\n                  :help=\"$seoValidate.description\">\n                  <a-input v-model=\"seoInfo.description\" :maxLength=\"lang==='en' ? 150 : 75\"\n                    @change=\"initSeoValidate('description')\" placeholder=\"必填，用于搜索引擎优化\" />\n                  <inputLmitTip :limit=\"lang==='en' ? 150 : 75\" :text=\"seoInfo.description\">\n                  </inputLmitTip>\n                </a-form-item>\n              </a-form>\n            </div>\n          </div>\n          <a-row class=\"steps-action\">\n            <a-col :offset=\"5\">\n              <a-button v-show=\"stepsData.current < stepsData.steps.length - 1\" type=\"primary\"\n                @click=\"next\">\n                下一步\n              </a-button>\n              <a-button v-show=\"stepsData.current > 0\" @click=\"prev\">\n                上一步\n              </a-button>\n              <a-button v-show=\"stepsData.current === stepsData.steps.length - 1\" type=\"primary\"\n                style=\"margin-left: 12px\" @click=\"handlePutIt\">\n                发布\n              </a-button>\n            </a-col>\n          </a-row>\n        </a-card>\n      </div>\n    </layout-base>\n  </div>\n</template>\n\n<script>\nimport { LayoutBase } from '@jg/via-ui';\nimport { reactive, toRefs, onMounted, onBeforeUnmount, ref, watch } from '@vue/composition-api';\nimport { editFormValidate, seoFormValidate, createEditor } from './service';\nimport { message, Modal } from 'ant-design-vue';\nimport moment from 'moment';\nimport { getToken } from '@/utils/auth';\nimport {\n  previewCaseInfo,\n  saveCaseInfo,\n  getCaseInfo,\n  updateCaseStatus,\n  deleteCaseInfo,\n  // releaseCaseInfo,\n} from './api';\n\nimport ImgUpload from '@/components/ImgUpload';\nimport inputLmitTip from '@/components/InputLmitTip';\nexport default {\n  components: { LayoutBase, ImgUpload, inputLmitTip },\n  name: 'case-edit',\n  setup(_, { root }) {\n    let editor;\n    const token = getToken();\n    const isEdit = ref(!!root.$route.params.id);\n    const viewInfo = reactive({\n      title: '',\n      sort: undefined,\n      summary: '',\n      clientName: '',\n      logoUrl: '',\n      picUrl: '',\n      publicTime: moment(),\n      content: '',\n    });\n    const seoInfo = reactive({\n      title: '',\n      keyword: '',\n      description: '',\n    });\n    const stepsData = reactive({\n      current: 0,\n      steps: [\n        {\n          title: '编辑内容',\n          content: 'edit-content',\n        },\n        {\n          title: 'seo设置',\n          content: 'seo-content',\n        },\n      ],\n    });\n    const data = reactive({\n      lang: 'zh',\n      title: isEdit.value ? '编辑客户案例' : '创建客户案例',\n      isSaved: isEdit.value,\n      id: root.$route.params.id,\n      crumbs: [\n        {\n          path: '',\n          value: '官网管理',\n        },\n        {\n          path: '/docs/case/list',\n          value: '客户案例',\n        },\n        {\n          path: '',\n          value: '中文',\n        },\n        {\n          path: '',\n          value: isEdit.value ? '编辑客户案例' : '创建客户案例',\n        },\n      ],\n      sortList: [\n        {\n          title: '金融业',\n          key: 0,\n        },\n        {\n          title: '在线教育',\n          key: 1,\n        },\n        {\n          title: '泛娱乐',\n          key: 2,\n        },\n        {\n          title: '生活服务',\n          key: 3,\n        },\n        {\n          title: '医疗健康',\n          key: 4,\n        },\n        {\n          title: '社区团购',\n          key: 5,\n        },\n        {\n          title: '媒体资讯',\n          key: 6,\n        },\n        {\n          title: '房地产',\n          key: 7,\n        },\n        {\n          title: '政法政务',\n          key: 8,\n        },\n      ],\n      originInfo: {},\n      uploadLoading: false,\n      uploadLogoLoading: false,\n      saveLoading: false,\n      previewLoading: false,\n      uploadHeaders: {\n        Authorization: 'sessionId=' + token,\n      },\n    });\n\n    watch(\n      () => root.$route,\n      newVal => {\n        data.lang = newVal.params.lang === 'zh' ? 'zh' : 'en';\n        data.crumbs[1].path = data.crumbs[1].path + '/' + data.lang;\n        data.lang === 'zh' ? (data.crumbs[2].value = '中文') : (data.crumbs[2].value = '英文');\n      },\n    );\n\n    function handleUploadChange(url) {\n      viewInfo.picUrl = url;\n    }\n\n    function handleLogoUploadChange(url) {\n      viewInfo.logoUrl = url;\n    }\n\n    const { $validate, initValidate } = editFormValidate(viewInfo);\n    const { $seoValidate, initSeoValidate } = seoFormValidate(seoInfo);\n\n    function transfedPostJson() {\n      const postJson = {\n        ...viewInfo,\n        languageType: data.lang === 'zh' ? 'CHINESE' : 'ENGLISH',\n        seoTitle: seoInfo.title,\n        seoKeyWords: seoInfo.keyword,\n        seoDescription: seoInfo.description,\n        publicTime: viewInfo.publicTime.format('YYYY-MM-DD'),\n      };\n      if (data.id && data.id !== 'null') {\n        postJson.id = Number(data.id);\n      }\n\n      return postJson;\n    }\n\n    function checkFormError() {\n      let validatedError = false;\n      viewInfo.content = editor ? editor.txt.html() : '';\n      initValidate('title');\n      initValidate('sort');\n      initValidate('summary');\n      initValidate('clientName');\n      initValidate('logoUrl');\n      initValidate('picUrl');\n      initValidate('publicTime');\n      initValidate('content');\n\n      Object.keys($validate).forEach(key => {\n        if ($validate[key]) {\n          validatedError = true;\n        }\n      });\n\n      if (validatedError) {\n        stepsData.current = 0;\n        return false;\n      }\n      if (!viewInfo.content) {\n        message.error('案例内容不能为空');\n        return false;\n      }\n\n      return true;\n    }\n    function checkSeoFormError() {\n      let validatedError = false;\n      initSeoValidate('title');\n      initSeoValidate('keyword');\n      initSeoValidate('description');\n\n      Object.keys($seoValidate).forEach(key => {\n        if ($seoValidate[key]) {\n          validatedError = true;\n        }\n      });\n\n      if (validatedError) {\n        stepsData.current = 1;\n        return false;\n      }\n      return true;\n    }\n\n    function diffOriginInfo(info) {\n      const keys = Object.keys(info);\n\n      for (let i = 0; i < keys.length; i++) {\n        if (info[keys[i]] !== data.originInfo[keys[i]]) return true;\n      }\n      return false;\n    }\n\n    function handleSave() {\n      if (checkFormError() && checkSeoFormError()) {\n        data.saveLoading = true;\n        const postJson = transfedPostJson();\n        saveCaseInfo(postJson)\n          .then(res => {\n            if (res.id) {\n              data.id = res.id;\n              data.originInfo = postJson;\n              data.originInfo.id = Number(data.id);\n              data.isSaved = true;\n              message.success('保存成功');\n            }\n          })\n          .finally(() => {\n            data.saveLoading = false;\n          });\n      }\n    }\n\n    function handlePreview() {\n      if (checkFormError() && checkSeoFormError()) {\n        const postJson = transfedPostJson();\n        if (!data.isSaved || diffOriginInfo(postJson)) {\n          Modal.error({\n            title: '提示',\n            content: '请先保存后预览或发布~',\n          });\n          return;\n        }\n        data.previewLoading = true;\n        previewCaseInfo(postJson.id)\n          .then(res => {\n            if (res.extraUrl) {\n              window.open(res.extraUrl);\n            }\n          })\n          .finally(() => {\n            data.previewLoading = false;\n          });\n      }\n    }\n\n    function handlePutIt() {\n      if (checkFormError() && checkSeoFormError()) {\n        const postJson = transfedPostJson();\n        if (!data.isSaved || diffOriginInfo(postJson)) {\n          Modal.error({\n            title: '提示',\n            content: '请先保存后预览或发布~',\n          });\n          return;\n        }\n\n        Modal.confirm({\n          title: '提示',\n          content: '确认发布该案例？',\n          onOk: () =>\n            updateCaseStatus({\n              publicStatus: 1,\n              id: data.id,\n            }).then(() => {\n              message.success('发布成功');\n              root.$router.push('/docs/case/list/' + data.lang);\n            }),\n        });\n      }\n    }\n\n    function handleDelete() {\n      Modal.confirm({\n        title: '确认要删除这条信息吗？',\n        content: '您确认要删除这条信息吗，删除后不可恢复',\n        onOk: () =>\n          deleteCaseInfo(data.id).then(() => {\n            message.success('删除成功');\n            root.$router.go(-1);\n          }),\n      });\n    }\n    function next() {\n      if (checkFormError()) {\n        stepsData.current++;\n      }\n    }\n    function prev() {\n      stepsData.current--;\n    }\n    function onStepsChange(current) {\n      if (checkFormError()) {\n        stepsData.current = current;\n      }\n    }\n    onMounted(() => {\n      editor = createEditor('#tipsEditor');\n      if (isEdit.value) {\n        getCaseInfo(data.id).then(res => {\n          viewInfo.content = res.content;\n          viewInfo.title = res.title;\n          viewInfo.summary = res.summary;\n          viewInfo.sort = res.sort;\n          viewInfo.clientName = res.clientName;\n          viewInfo.logoUrl = res.logoUrl || '';\n          viewInfo.picUrl = res.picUrl || '';\n          viewInfo.publicTime = moment(res.publicTime);\n          seoInfo.title = res.seoTitle || '';\n          seoInfo.keyword = res.seoKeyWords || '';\n          seoInfo.description = res.seoDescription || '';\n          data.lang = res.languageType === 'ENGLISH' ? 'en' : 'zh';\n          data.originInfo = res;\n          data.originInfo.id = Number(data.id);\n          data.originInfo.languageType =\n            res.languageType ?? data.lang === 'zh' ? 'CHINESE' : 'ENGLISH';\n          editor.txt.html(res.content);\n          data.originInfo.publicTime = moment(res.publicTime).format('YYYY-MM-DD');\n        });\n      }\n    });\n\n    onBeforeUnmount(() => {\n      editor && editor.destroy();\n      editor = null;\n    });\n\n    return {\n      ...toRefs(data),\n      isEdit,\n      viewInfo,\n      $validate,\n      initValidate,\n      seoInfo,\n      $seoValidate,\n      initSeoValidate,\n      handleUploadChange,\n      handleLogoUploadChange,\n      handlePreview,\n      handleSave,\n      handlePutIt,\n      handleDelete,\n      stepsData,\n      prev,\n      next,\n      onStepsChange,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.steps-wrapper {\n  padding: 20px 0 40px;\n  width: 500px;\n  margin: 0 auto;\n}\n.form {\n  max-width: 1200px;\n  margin: 0 auto;\n  &-title {\n    text-align: center;\n    button {\n      margin-right: 12px;\n    }\n  }\n}\n.form-uploader {\n  /deep/ & > div {\n    width: 347px;\n    height: 171px;\n    overflow: hidden;\n    img {\n      max-width: 100%;\n      max-height: 100%;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=d510e680&scoped=true&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Editor.vue?vue&type=style&index=0&id=d510e680&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d510e680\",\n  null\n  \n)\n\nexport default component.exports","var UA = require('../internals/engine-user-agent');\n\nmodule.exports = /MSIE|Trident/.test(UA);\n","import request from '@/utils/request';\n\nexport function getCaseList(params) {\n  return request({\n    url: 'official/iportal/client/case/get',\n    params,\n    method: 'GET',\n  });\n}\n\nexport function updateCaseStatus(info) {\n  return request({\n    url: 'official/iportal/client/case/change',\n    data: info,\n    method: 'POST',\n  });\n}\n\nexport function previewCaseInfo(id) {\n  return request({\n    url: 'official/iportal/client/case/preview/' + id,\n    method: 'GET',\n  });\n}\n\nexport function saveCaseInfo(info) {\n  return request({\n    url: 'official/iportal/client/case/save',\n    data: info,\n    method: 'POST',\n  });\n}\n\nexport function releaseCaseInfo(info) {\n  return request({\n    url: 'official/iportal/client/case/release',\n    data: info,\n    method: 'POST',\n  });\n}\n\nexport function topCaseStatus(info) {\n  return request({\n    url: 'official/iportal/client/case/top',\n    data: info,\n    method: 'POST',\n  });\n}\n\nexport function getCaseInfo(id) {\n  return request({\n    url: 'official/iportal/client/case/' + id,\n    method: 'GET',\n  });\n}\n\nexport function deleteCaseInfo(id) {\n  return request({\n    url: 'official/iportal/client/case/' + id,\n    method: 'DELETE',\n  });\n}\n"],"sourceRoot":""}