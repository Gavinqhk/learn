(window["webpackJsonpdocs"]=window["webpackJsonpdocs"]||[]).push([["chunk-08290e5a"],{"365c":function(t,n,e){"use strict";e.d(n,"c",(function(){return i})),e.d(n,"g",(function(){return o})),e.d(n,"d",(function(){return c})),e.d(n,"e",(function(){return r})),e.d(n,"b",(function(){return u})),e.d(n,"a",(function(){return s})),e.d(n,"f",(function(){return l}));var a=e("b775");function i(t){return Object(a["a"])({url:"official/iportal/media/news/record",params:t,method:"GET"})}function o(t){return Object(a["a"])({url:"official/iportal/media/news/change",data:t,method:"POST"})}function c(t){return Object(a["a"])({url:"official/iportal/media/news/preview",data:t,method:"POST"})}function r(t){return Object(a["a"])({url:"official/iportal/media/news/save",data:t,method:"POST"})}function u(t){return Object(a["a"])({url:"official/iportal/media/news/edit/"+t,method:"get"})}function s(t){return Object(a["a"])({url:"official/iportal/media/news/del/"+t,method:"get"})}function l(t){return Object(a["a"])({url:"official/iportal/top",data:t,method:"POST"})}},b0f9:function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("a-card",{attrs:{bordered:!1}},[e("table-search",{attrs:{fields:t.fields},on:{submit:t.handleSubmit}},[e("a-button",{staticStyle:{float:"right","margin-right":"24px","margin-top":"6px"},on:{click:t.toEditor}},[t._v("添加新闻 ")])],1),e("a-table",{attrs:{size:"default",rowKey:function(t,n){return n},columns:t.columns,dataSource:t.tableData,loading:t.loading,pagination:t.pagination},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"action",fn:function(n,a){return[e("a-button",{attrs:{type:"link"},on:{click:function(n){return t.toppingRecoder(a)}}},[t._v(" "+t._s(1===a.tstatus?"取消置顶":"置顶")+" ")]),e("a-button",{attrs:{type:"link"},on:{click:function(n){return t.modifyRecoder(a)}}},[t._v(" 编辑 ")]),e("a-button",{attrs:{type:"link"},on:{click:function(n){return t.actionRecoder(a)}}},[t._v(" "+t._s(1===a.pstatus?"下线":"发布")+" ")]),e("a-button",{staticClass:"danger",attrs:{type:"link"},on:{click:function(n){return t.deleteRecoder(a)}}},[t._v(" 删除 ")])]}},{key:"pstatus",fn:function(n){return[0==n?e("span",{staticClass:"is-end"},[t._v("未发布")]):1==n?e("span",{staticClass:"is-info"},[t._v("已发布")]):e("span",{staticClass:"is-no"},[t._v("已更新")])]}}])})],1)},i=[],o=e("5530"),c=(e("8a79"),e("d3b7"),e("c32d")),r=e.n(c),u=e("1d61"),s=e("750b"),l=e("365c"),d=e("4e72"),f=[{title:"新闻标题",dataIndex:"title"},{title:"创建日期",dataIndex:"ctime",customRender:function(t){return r()(t).format("YYYY-MM-DD HH:mm:ss")}},{title:"创建者",dataIndex:"creator"},{title:"状态",dataIndex:"pstatus",width:"100px",scopedSlots:{customRender:"pstatus"}},{title:"操作",dataIndex:"action",align:"center",maxWidth:"300px",scopedSlots:{customRender:"action"}}],p={components:{TableSearch:u["l"]},name:"tips-list-content",setup:function(t,n){var e=n.root,a=Object(s["e"])({lang:"zh",fields:[{label:"查询条件",type:"input",field:"title",value:"",placeholder:"请输入新闻标题"}],tableData:[],columns:f,loading:!0,pagination:{total:0,current:1,pageSize:20,pageSizeOptions:["5","10","20","50","100"],showQuickJumper:!1,showSizeChanger:!0}});function i(){var t={};return t.currentPage=a.pagination.current,t.pageSize=a.pagination.pageSize,t.title=a.fields[0].value,t.mediaType="NEWS",t.languageType="zh"===a.lang?"CHINESE":"ENGLISH",t}function c(){var t=i();a.loading=!0,Object(l["c"])(t).then((function(t){t.list&&(a.tableData=t.list,a.pagination.total=t.total)})).finally((function(){a.loading=!1}))}function r(){a.pagination.current=1,c()}function u(t){a.pagination=t,c()}function p(t){e.$router.push({name:"docs-news-edit",params:{id:t.id,lang:a.lang}})}function g(){e.$router.push({name:"docs-news-create",params:{lang:a.lang}})}function b(t){var n=0===t.pstatus?1:0;d["Modal"].confirm({title:"提示",content:"确认".concat(1===n?"发布":"下线","该新闻吗?"),onOk:function(){return Object(l["g"])({pstatus:n,id:t.id}).then((function(){d["message"].success("".concat(1===n?"发布":"下线","成功")),c()}))}})}function m(t){var n=0===t.topStatus?1:0;d["Modal"].confirm({title:"提示",content:"确认".concat(1===n?"置顶":"取消置顶","该新闻吗?"),onOk:function(){return Object(l["f"])({topStatus:n,id:t.id}).then((function(){d["message"].success("".concat(1===n?"置顶":"取消置顶","成功")),c()}))}})}function h(t){d["Modal"].confirm({title:"提示",content:"确认删除该新闻吗?",onOk:function(){return Object(l["a"])(t.id).then((function(){d["message"].success("删除成功"),c()}))}})}return Object(s["h"])((function(){return e.$route.path}),(function(t){a.lang=t.endsWith("/zh")?"zh":"en",a.pagination.current=1,c()})),Object(s["d"])((function(){c()})),Object(o["a"])(Object(o["a"])({},Object(s["g"])(a)),{},{handleSubmit:r,handleTableChange:u,modifyRecoder:p,actionRecoder:b,deleteRecoder:h,toppingRecoder:m,toEditor:g})}},g=p,b=(e("c97b"),e("2877")),m=Object(b["a"])(g,a,i,!1,null,"bdf3ffc6",null);n["default"]=m.exports},b176:function(t,n,e){},c97b:function(t,n,e){"use strict";e("b176")}}]);
//# sourceMappingURL=chunk-08290e5a.126416e7.js.map